import{j as e,S as x,L as v,v as y,z as h}from"./index-DF7_U7F2.js";import{o as j,r as f,a as g,u as b}from"./forms-iUPkNky-.js";import{T as E}from"./truck-LVb1-fVr.js";import{G as T}from"./globe-DzotZ5He.js";import{A as w}from"./anchor-DkhLQJKY.js";import{C as p}from"./calendar-CoFD0KYX.js";import{o as D,s as d}from"./utils-B5GYf9PD.js";import"./vendor-DMBppH6t.js";import"./router-B5VeUpr9.js";import"./animation-Agc6SoMy.js";var A=function(r,m){for(var s={};r.length;){var a=r[0],c=a.code,l=a.message,t=a.path.join(".");if(!s[t])if("unionErrors"in a){var i=a.unionErrors[0].errors[0];s[t]={message:i.message,type:i.code}}else s[t]={message:l,type:c};if("unionErrors"in a&&a.unionErrors.forEach(function(u){return u.errors.forEach(function(N){return r.push(N)})}),m){var n=s[t].types,o=n&&n[a.code];s[t]=g(t,m,s,c,o?[].concat(o,a.message):a.message)}r.shift()}return s},V=function(r,m,s){return s===void 0&&(s={}),function(a,c,l){try{return Promise.resolve(function(t,i){try{var n=Promise.resolve(r[s.mode==="sync"?"parse":"parseAsync"](a,m)).then(function(o){return l.shouldUseNativeValidation&&j({},l),{errors:{},values:s.raw?a:o}})}catch(o){return i(o)}return n&&n.then?n.then(void 0,i):n}(0,function(t){if(function(i){return Array.isArray(i==null?void 0:i.errors)}(t))return{values:{},errors:f(A(t.errors,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw t}))}catch(t){return Promise.reject(t)}}};const S=D({vesselName:d().min(2,"Vessel name is required").max(100),voyageNo:d().min(2,"Voyage number is required").max(50),country:d().min(2,"Country is required").max(60),portName:d().min(2,"Port name is required").max(80),ETA:d().min(1,"ETA is required").refine(r=>!isNaN(new Date(r).getTime()),"Invalid ETA date"),ETD:d().min(1,"ETD is required").refine(r=>!isNaN(new Date(r).getTime()),"Invalid ETD date")}).refine(r=>new Date(r.ETD)>new Date(r.ETA),{message:"ETD must be after ETA",path:["ETD"]}),U=()=>{var t;const{register:r,handleSubmit:m,formState:{errors:s,isSubmitting:a},reset:c}=b({resolver:V(S)}),l=async i=>{try{await y.createVessel(i),h.success("Vessel data added successfully!"),c()}catch(n){h.error(n.message||"Failed to add vessel data.")}};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto bg-white p-8 rounded-xl shadow-lg border border-gray-100",children:[e.jsxs("h2",{className:"text-3xl font-extrabold text-gray-900 text-center mb-6",children:[e.jsx(x,{className:"inline-block w-8 h-8 mr-2 text-primary-600"}),"Add New Vessel Data"]}),e.jsx("p",{className:"text-center text-gray-600 mb-8",children:"Enter the details for a new shipping vessel and its voyage."}),e.jsxs("form",{onSubmit:m(l),className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"vesselName",className:"form-label",children:"Vessel Name"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(x,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),e.jsx("input",{type:"text",id:"vesselName",...r("vesselName"),className:"input pl-10",placeholder:"e.g., MSC Mediterranean"})]}),s.vesselName&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.vesselName.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"voyageNo",className:"form-label",children:"Voyage Number"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(E,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),e.jsx("input",{type:"text",id:"voyageNo",...r("voyageNo"),className:"input pl-10",placeholder:"e.g., VOY00123"})]}),s.voyageNo&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.voyageNo.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"country",className:"form-label",children:"Country"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(T,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),e.jsx("input",{type:"text",id:"country",...r("country"),className:"input pl-10",placeholder:"e.g., Pakistan"})]}),s.country&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.country.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"portName",className:"form-label",children:"Port Name"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(w,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),e.jsx("input",{type:"text",id:"portName",...r("portName"),className:"input pl-10",placeholder:"e.g., Karachi Port"})]}),s.portName&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.portName.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"ETA",className:"form-label",children:"Estimated Time of Arrival (ETA)"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(p,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),e.jsx("input",{type:"datetime-local",id:"ETA",...r("ETA"),className:"input pl-10"})]}),s.ETA&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.ETA.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"ETD",className:"form-label",children:"Estimated Time of Departure (ETD)"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(p,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),e.jsx("input",{type:"datetime-local",id:"ETD",...r("ETD"),className:"input pl-10"})]}),s.ETD&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.ETD.message}),((t=s.root)==null?void 0:t.ETD)&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.root.ETD.message})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",className:"btn btn-primary w-full relative",disabled:a,children:a?e.jsx(v,{size:"sm"}):"Add Vessel"})})]})]})})};export{U as default};
//# sourceMappingURL=VesselDataEntry-Gb9-JP6C.js.map
