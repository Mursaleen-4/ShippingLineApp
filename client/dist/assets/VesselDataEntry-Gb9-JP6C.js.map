{"version":3,"file":"VesselDataEntry-Gb9-JP6C.js","sources":["../../../node_modules/@hookform/resolvers/zod/dist/zod.mjs","../../src/pages/VesselDataEntry.tsx"],"sourcesContent":["import{validateFieldsNatively as r,toNestErrors as e}from\"@hookform/resolvers\";import{appendErrors as o}from\"react-hook-form\";var n=function(r,e){for(var n={};r.length;){var t=r[0],s=t.code,i=t.message,a=t.path.join(\".\");if(!n[a])if(\"unionErrors\"in t){var u=t.unionErrors[0].errors[0];n[a]={message:u.message,type:u.code}}else n[a]={message:i,type:s};if(\"unionErrors\"in t&&t.unionErrors.forEach(function(e){return e.errors.forEach(function(e){return r.push(e)})}),e){var c=n[a].types,f=c&&c[t.code];n[a]=o(a,e,n,s,f?[].concat(f,t.message):t.message)}r.shift()}return n},t=function(o,t,s){return void 0===s&&(s={}),function(i,a,u){try{return Promise.resolve(function(e,n){try{var a=Promise.resolve(o[\"sync\"===s.mode?\"parse\":\"parseAsync\"](i,t)).then(function(e){return u.shouldUseNativeValidation&&r({},u),{errors:{},values:s.raw?i:e}})}catch(r){return n(r)}return a&&a.then?a.then(void 0,n):a}(0,function(r){if(function(r){return Array.isArray(null==r?void 0:r.errors)}(r))return{values:{},errors:e(n(r.errors,!u.shouldUseNativeValidation&&\"all\"===u.criteriaMode),u)};throw r}))}catch(r){return Promise.reject(r)}}};export{t as zodResolver};\n//# sourceMappingURL=zod.module.js.map\n","import React from 'react';\nimport { useForm } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport * as z from 'zod';\nimport toast from 'react-hot-toast';\nimport { vesselsApi } from '../lib/api';\nimport { LoadingSpinner } from '../components/LoadingSpinner';\nimport { Ship, Calendar, Globe, Anchor, Truck } from 'lucide-react';\n\n// Zod schema for form validation\nconst vesselSchema = z.object({\n  vesselName: z.string().min(2, 'Vessel name is required').max(100),\n  voyageNo: z.string().min(2, 'Voyage number is required').max(50),\n  country: z.string().min(2, 'Country is required').max(60),\n  portName: z.string().min(2, 'Port name is required').max(80),\n  ETA: z.string().min(1, 'ETA is required').refine((val) => !isNaN(new Date(val).getTime()), 'Invalid ETA date'),\n  ETD: z.string().min(1, 'ETD is required').refine((val) => !isNaN(new Date(val).getTime()), 'Invalid ETD date'),\n}).refine((data) => new Date(data.ETD) > new Date(data.ETA), {\n  message: \"ETD must be after ETA\",\n  path: [\"ETD\"],\n});\n\ntype VesselFormInput = z.infer<typeof vesselSchema>;\n\nconst VesselDataEntry: React.FC = () => {\n  const { register, handleSubmit, formState: { errors, isSubmitting }, reset } = useForm<VesselFormInput>({\n    resolver: zodResolver(vesselSchema),\n  });\n\n  const onSubmit = async (data: VesselFormInput) => {\n    try {\n      await vesselsApi.createVessel(data);\n      toast.success('Vessel data added successfully!');\n      reset(); // Clear form after successful submission\n    } catch (error: any) {\n      toast.error(error.message || 'Failed to add vessel data.');\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-3xl mx-auto bg-white p-8 rounded-xl shadow-lg border border-gray-100\">\n        <h2 className=\"text-3xl font-extrabold text-gray-900 text-center mb-6\">\n          <Ship className=\"inline-block w-8 h-8 mr-2 text-primary-600\" />\n          Add New Vessel Data\n        </h2>\n        <p className=\"text-center text-gray-600 mb-8\">Enter the details for a new shipping vessel and its voyage.</p>\n\n        <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-6\">\n          <div>\n            <label htmlFor=\"vesselName\" className=\"form-label\">Vessel Name</label>\n            <div className=\"mt-1 relative rounded-md shadow-sm\">\n              <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                <Ship className=\"h-5 w-5 text-gray-400\" aria-hidden=\"true\" />\n              </div>\n              <input\n                type=\"text\"\n                id=\"vesselName\"\n                {...register('vesselName')}\n                className=\"input pl-10\"\n                placeholder=\"e.g., MSC Mediterranean\"\n              />\n            </div>\n            {errors.vesselName && <p className=\"text-red-500 text-sm mt-1\">{errors.vesselName.message}</p>}\n          </div>\n\n          <div>\n            <label htmlFor=\"voyageNo\" className=\"form-label\">Voyage Number</label>\n            <div className=\"mt-1 relative rounded-md shadow-sm\">\n              <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                <Truck className=\"h-5 w-5 text-gray-400\" aria-hidden=\"true\" />\n              </div>\n              <input\n                type=\"text\"\n                id=\"voyageNo\"\n                {...register('voyageNo')}\n                className=\"input pl-10\"\n                placeholder=\"e.g., VOY00123\"\n              />\n            </div>\n            {errors.voyageNo && <p className=\"text-red-500 text-sm mt-1\">{errors.voyageNo.message}</p>}\n          </div>\n\n          <div>\n            <label htmlFor=\"country\" className=\"form-label\">Country</label>\n            <div className=\"mt-1 relative rounded-md shadow-sm\">\n              <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                <Globe className=\"h-5 w-5 text-gray-400\" aria-hidden=\"true\" />\n              </div>\n              <input\n                type=\"text\"\n                id=\"country\"\n                {...register('country')}\n                className=\"input pl-10\"\n                placeholder=\"e.g., Pakistan\"\n              />\n            </div>\n            {errors.country && <p className=\"text-red-500 text-sm mt-1\">{errors.country.message}</p>}\n          </div>\n\n          <div>\n            <label htmlFor=\"portName\" className=\"form-label\">Port Name</label>\n            <div className=\"mt-1 relative rounded-md shadow-sm\">\n              <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                <Anchor className=\"h-5 w-5 text-gray-400\" aria-hidden=\"true\" />\n              </div>\n              <input\n                type=\"text\"\n                id=\"portName\"\n                {...register('portName')}\n                className=\"input pl-10\"\n                placeholder=\"e.g., Karachi Port\"\n              />\n            </div>\n            {errors.portName && <p className=\"text-red-500 text-sm mt-1\">{errors.portName.message}</p>}\n          </div>\n\n          <div>\n            <label htmlFor=\"ETA\" className=\"form-label\">Estimated Time of Arrival (ETA)</label>\n            <div className=\"mt-1 relative rounded-md shadow-sm\">\n              <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                <Calendar className=\"h-5 w-5 text-gray-400\" aria-hidden=\"true\" />\n              </div>\n              <input\n                type=\"datetime-local\"\n                id=\"ETA\"\n                {...register('ETA')}\n                className=\"input pl-10\"\n              />\n            </div>\n            {errors.ETA && <p className=\"text-red-500 text-sm mt-1\">{errors.ETA.message}</p>}\n          </div>\n\n          <div>\n            <label htmlFor=\"ETD\" className=\"form-label\">Estimated Time of Departure (ETD)</label>\n            <div className=\"mt-1 relative rounded-md shadow-sm\">\n              <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                <Calendar className=\"h-5 w-5 text-gray-400\" aria-hidden=\"true\" />\n              </div>\n              <input\n                type=\"datetime-local\"\n                id=\"ETD\"\n                {...register('ETD')}\n                className=\"input pl-10\"\n              />\n            </div>\n            {errors.ETD && <p className=\"text-red-500 text-sm mt-1\">{errors.ETD.message}</p>}\n            {errors.root?.ETD && <p className=\"text-red-500 text-sm mt-1\">{errors.root.ETD.message}</p>}\n          </div>\n\n          <div>\n            <button\n              type=\"submit\"\n              className=\"btn btn-primary w-full relative\"\n              disabled={isSubmitting}\n            >\n              {isSubmitting ? <LoadingSpinner size=\"sm\" /> : 'Add Vessel'}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default VesselDataEntry;"],"names":["n","e","t","s","i","a","u","c","f","o","r","vesselSchema","z.object","z.string","val","data","VesselDataEntry","register","handleSubmit","errors","isSubmitting","reset","useForm","zodResolver","onSubmit","vesselsApi","toast","error","jsxs","jsx","Ship","Truck","Globe","Anchor","Calendar","_a","LoadingSpinner"],"mappings":"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","x_google_ignoreList":[0]}